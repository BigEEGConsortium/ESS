<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>EEG Study Schema (ESS) and related tools by BigEEGConsortium</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">EEG Study Schema (ESS) and related tools</h1>
      <h2 class="project-tagline">Removing the pain from EEG data sharing</h2>
      <a href="https://github.com/BigEEGConsortium/ESS" class="btn">View on GitHub</a>
      <a href="https://github.com/BigEEGConsortium/ESS/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/BigEEGConsortium/ESS/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><img src="/images/ESS_logo_ship.png" alt=""></p>

<p>EEG Study Schema (ESS) makes it easier for researcher in the field of EEG/BCI to package, share and automatize the analysis workflow of their study data. </p>

<p>You can think of ESS as a "shipping container" for your EEG study data.</p>

<h2>
<a id="using-other-peoples-eeg-data-could-be-painful" class="anchor" href="#using-other-peoples-eeg-data-could-be-painful" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using other people’s EEG data could be painful</h2>

<p>Often one has to do detective work to find out:</p>

<ol>
<li>What happened in the experiment?</li>
<li>Which files are for which subjects/sessions?</li>
<li>What do these event codes mean?</li>
</ol>

<h2>
<a id="to-remove-eeg-data-sharing-pain-we-have-created-a-set-of-standards-hed-and-ess-and-tools" class="anchor" href="#to-remove-eeg-data-sharing-pain-we-have-created-a-set-of-standards-hed-and-ess-and-tools" aria-hidden="true"><span class="octicon octicon-link"></span></a>To remove ‘EEG data sharing pain' we have created a set of standards (HED and ESS) and tools</h2>

<p>ESS is designed from a user-centered viewpoint that emphasizes simplicity and ease of use. It is created to contain all the information a researcher unfamiliar with a particular EEG (or MEG) Study needs to further analyze the data. It is</p>

<ul>
<li>An XML-based specification </li>
<li>Holds all the information necessary to analyze an EEG study: task and paradigm description, recording parameters, sensor locations, gender, handedness, age and group associations of subjects…</li>
<li>Contains a table of <a href="http://www.hedtags.org">HED tags</a> for event codes.<br>
</li>
<li>Both human- and machine-readable</li>
<li>The XML file may be readily formatted into a readable description of the EEG study </li>
</ul>

<p>ESS also has a convention that specifies how to name and arrange raw session EEG recording files into folders.</p>

<h2>
<a id="ess-20" class="anchor" href="#ess-20" aria-hidden="true"><span class="octicon octicon-link"></span></a>ESS 2.0</h2>

<p>The latest version of ESS (2.0) is capable of dealing with multiple modalities (e.g. Motion Capture, Eye-Tracking,...), and studies where EEG recording parameters (e.g. sampling rate) vary across sessions. The figure below shows stages of data and tools used to transform data into ESS standard levels.</p>

<p><img src="/images/ESS%20process.png" alt=""></p>

<h3>
<a id="standardized-data-level-1" class="anchor" href="#standardized-data-level-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="level1">Standardized Data Level 1</a>
</h3>

<p>Level 1 contains data without any processing, except the tagging and synchronization. To prevent misunderstanding it is important to first provide our definition of terms as Study, Task and Session:</p>

<ul>
<li>Session: A session is best described as a single application of EEG cap for subjects, for data to be recorded under a single study. Multiple (and potentially quite different) tasks may be recorded during each session but they should all belong to the same study.</li>
<li>Study: A set of data collection efforts (Sessions) to answer one or few related scientific questions. </li>
<li>Task: Each study may contain multiple tasks. For example a baseline ‘eyes closed’ task, followed by a ‘target detection’ task and a ‘mind wandering’, eyes open, task. Each task contains a single paradigm and in combination they allow answering scientific questions investigated in the study. ESS allows for event codes to have different meanings in each task, although such event encoding is discouraged due to potential for experimenter confusion.
*EEG Recording: The file containing EEG data from one or multiple subjects. In some cases it may also contain non-EEG data (e.g. GSR, ECG or even Motion Capture and Eye tracker data). A Session may produce multiple EEG recordings.</li>
</ul>

<p>We tried to select terms similar to ones defined in EEGLAB software. The figure below shows ESS Standardized Level 1 folder and file structure. The study_description.xml file is the “header” of ESS container and contains all the study meta data. </p>

<p><img src="/images/ESS%20level%201%20schema.png" alt="">
You can see Level 1 specification at <a href="http://www.eegstudy.org/schema/level1">www.eegstudy.org/schema/level1</a>. </p>

<h3>
<a id="standardized-data-level-2" class="anchor" href="#standardized-data-level-2" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="level2">Standardized Data Level 2</a>
</h3>

<p>Standard Data Level 2 provides a containerized, well-documented version of the data after processing by accepted pre-processing functions and annotated by an extensive summary reporting of data quality. The focus of Standard Data Level 2 is to transform the EEG data into a state that would allow the direct application of machine learning or other analysis algorithms without additional processing. The amount of preprocessing applied is minimal, because we wanted to maximize the usability across a variety of applications. </p>

<p>The Standard Data Level 2 pipeline (PREP) consists of three steps: initial filtering, removal of a robust reference signal, and interpolation of bad channels. The pipeline also identifies potentially bad sections of the signal. You can access PREP code from <a href="https://github.com/VisLab/EEG-Clean-Tools">https://github.com/VisLab/EEG-Clean-Tools</a> . </p>

<p>A Standard Data Level 2 (STDL2) collection has a well-defined folder structure documented in a studyLevel2_description.xml file (see the figure below). This XML file uniquely identifies the data collection and documents the layout of the data in a detailed manner. The XML file also contains the XML generated from the Standard Data Level 1 processing.</p>

<p><img src="/images/ESS%20level%202%20schema.png" alt="">
You can see Level 2 specification at <a href="http://www.eegstudy.org/schema/level2">www.eegstudy.org/schema/level2</a> .</p>

<h2>
<a id="ess-tools" class="anchor" href="#ess-tools" aria-hidden="true"><span class="octicon octicon-link"></span></a><a name="tools">ESS tools</a>
</h2>

<p>Free open-source MATLAB-based tools are available in <a href="https://github.com/bigdelys/ESS">ESS Github repository</a> to read and write ESS XML files. You can use these tools to automate the process of loading data from study sessions and applying (e.g. EEGLAB) analysis scripts on your data.</p>

<h2>
<a id="download-ess-formatted-eeg-studies" class="anchor" href="#download-ess-formatted-eeg-studies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Download ESS-formatted EEG studies</h2>

<p>Currently there are over 850 GB of data, from over 16 studies, available in ESS. For an up-todate list with download links please visit: <a href="http://www.studycatalog.org">www.studycatalog.org</a></p>

<h2>
<a id="example-code" class="anchor" href="#example-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example code</h2>

<h3>
<a id="running-a-function-on-all-the-recording-in-the-study" class="anchor" href="#running-a-function-on-all-the-recording-in-the-study" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running a function on all the recording in the study</h3>

<pre><code>% load the container in to a MATLAB object
obj = level2Study('level2XmlFilePath', 'C:\Users\...\[ESS Container Folder]\');

% get all the recording files 
filenames = obj.getFilename;

% Step through all the recordings and apply a function
for i=1:length(filenames)
    [path name ext] = fileparts(filenames{i});
    EEG = pop_loadset([name ext], path);
    EEG = [YOUR FUNCTION](EEG,..)
end;
</code></pre>

<p>You can limit the tasks for which the files are obtained by using 'taskLabel' option of getFilename() method in level2Study class.</p>

<h3>
<a id="creating-an-eeglab-study" class="anchor" href="#creating-an-eeglab-study" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating An EEGLAB STUDY</h3>

<pre><code>% load the container in to a MATLAB object
obj = level2Study('level2XmlFilePath', 'C:\Users\...\[ESS Container Folder]\');

studyFilenameAndPAth = createEeglabStudy(obj, 'C:\Users\Nima\Documents\MATLAB\tools\playground\eeglabstudy');
</code></pre>

<h3>
<a id="making-sure-the-container-has-no-issues-validation" class="anchor" href="#making-sure-the-container-has-no-issues-validation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Making sure the container has no issues (validation)</h3>

<pre><code>% load the container in to a MATLAB object
obj = level2Study('level2XmlFilePath', 'C:\Users\...\[ESS Container Folder]\');

obj = obj.validate;

</code></pre>

<p>Some minor issues, like missing UUIDs are fixed by default in the validation process, but you need to save the object afterwards.</p>

<h2>
<a id="people" class="anchor" href="#people" aria-hidden="true"><span class="octicon octicon-link"></span></a>People</h2>

<p>ESS 2.0 specifications were drafted by Nima Bigdely-Shamlo (<a href="http://qusp.io">Qusp</a>), Kay Robbins (University of Texas at San Antonio) and Tony Johnson (DCS Corp.). ESS 1.0 specifications were drafted by Nima Bigdely-Shamlo,  Jessica Hsi (UCSD) and Scott Makeig (Swartz Center for Computational Neueorsciece, UCSD).</p>

<p>Please email your questions about ESS to Nima Bigdely-Shamlo: nima.bigdely [put at sign here] qusp.io.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>ESS tools and schemas are released under the MIT license.</p>

<hr>

<p>ESS was originally developed under HeadIT project at Swartz Center for Computational Neuroscience (SCCN) of the University of California, San Diego and funded by U.S. National Institutes of Health grants R01-MH084819 (Makeig, Grethe PIs) and R01-NS047293 (Makeig PI). ESS development is now supported by The Cognition and Neuroergonomics Collaborative Technology Alliance (CaN CTA) program of U.S Army Research Labaratory.</p>

<p><a href="http://qusp.io">© Qusp 2015</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/BigEEGConsortium/ESS">EEG Study Schema (ESS) and related tools</a> is maintained by <a href="https://github.com/BigEEGConsortium">BigEEGConsortium</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-1790906-8");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
